<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/WEB-INF/testTemplate.xhtml">
         <ui:define name="content">
             <!-- Start Contact Area -->
            <section class="htc__contact__area ptb--100 bg__gray">
                <div class="container">
                    <div class="row">
                        <div class="contact-form-wrap mt--60">
                            <div class="col-xs-12">
                                <div class="contact-title">
                                    <h1 class="title__line--6">Profile</h1>
                                    <h2>username : #{authBean.userEntity.username}</h2>
                                </div>
                                <h3>Nom complet : #{authBean.userEntity.fullname}</h3>
                                <h3>Email : #{authBean.userEntity.email}</h3>
                                <h3>Adresse : #{authBean.userEntity.address}</h3>
                                
                            </div>
                            <br />
                            <br />
                            <div class="col-xs-12">
                                <div class="contact-title">
                                    <h1 class="title__line--6">Liste des commandes</h1>
                                </div>
                                <div class="ht__comment__form">
                                        <div class="ht__comment__form__inner">
                                            <h4>Command ID : #{c.id}</h4>
                                            <ui:repeat var="c" value="#{commandeBean.myCommandes()}">
                                                <ui:repeat value="#{commandeBean.getCartItems(c)}" var="c2">
                                                    <p:column headerText="Nom">
                                                        <h:outputText value="#{productBean.getProductById(c2.product.id).getName()}" />
                                                    </p:column>

                                                    <p:column headerText="QuatitÃ©">
                                                        <h:outputText value="#{c2.quantity}" />
                                                    </p:column>
                                                </ui:repeat>
                                            </ui:repeat>
                                            <br />
                                            <br />
                                        </div>
                                </div>

                                
                            </div>
                            <div class="col-xs-12">
                                <div class="contact-title">
                                    <h1 class="title__line--6">Modifier le profile</h1>
                                </div>
                                <!-- Start comment Form -->
                                <div class="ht__comment__form">
                                    <h:form>
                                        <div class="ht__comment__form__inner">
                                            <div class="comment__form">
                                                <h:inputText value="#{changeInfoBean.fullname}" label="Fullname"/> <br />
                                                <h:inputText value="#{changeInfoBean.email}" label="Email"/><br />
                                                <h:inputTextarea label="Adresse" value="#{changeInfoBean.address}"></h:inputTextarea>
                                            </div>
                                        </div>
                                        <div class="ht__comment__btn--2 mt--30">
                                            <span class="fr__btn"><h:commandButton action="#{changeInfoBean.modifier()}" value="Modifier"></h:commandButton></span>
                                        </div>
                                    </h:form>
                                </div>
                                <!-- End comment Form -->

                                
                            </div>

                        </div> 
                    </div>
                </div>
            </section>
            <!-- End Contact Area -->
         </ui:define>
    </ui:composition>
</html>
